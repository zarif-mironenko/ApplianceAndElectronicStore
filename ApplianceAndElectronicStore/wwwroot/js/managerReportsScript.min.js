function pageLoaded(){$('.btnGrpPeriodForSales [name="period"]').click(function(){periodVal=this.value;var n=$(this);paramVal=n.parent().data("param");n.siblings().removeClass("btn-primary").addClass("btn-default");n.removeClass("btn-default").addClass("btn-primary");drawSalesChart()});$(".btnGrpStockLeftovers").click(function(){paramVal=$(this).data("param");drawStockLeftoversChart()});drawSalesChart();drawStockLeftoversChart();paramVal="Quantity";drawSalesChart();drawStockLeftoversChart()}function drawSalesChart(){var n=$(`.btnGrpPeriodForSales[data-param=${paramVal}]`).siblings(".ajax-load"),t=$.ajax({url:"Reports/AjaxGetSalesSumsOrQtyByPeriod",data:{period:periodVal,param:paramVal},dataType:"json",async:!1,beforeSend:function(){n.css("visibility","visible")},complete:function(){setTimeout(function(){n.css("visibility","hidden")},500)}}).responseJSON,i=document.getElementById(paramVal=="Sum"?"chartSalesSums":"chartSalesQty");if(t.rows.length==0){i.innerHTML="Нет данных за данный период";return}var r=new google.visualization.DataTable(t),u={title:`${paramVal=="Sum"?"Сумма":"Количество"} продаж по категориям`,pieHole:.4},f=new google.visualization.PieChart(i);f.draw(r,u)}function drawStockLeftoversChart(){var n=$(`.btnGrpStockLeftovers[data-param=${paramVal}]`).siblings(".ajax-load"),t=$.ajax({url:"Reports/AjaxGetStockLeftoversSumsOrQty",data:{param:paramVal},dataType:"json",async:!1,beforeSend:function(){n.css("visibility","visible")},complete:function(){setTimeout(function(){n.css("visibility","hidden")},500)}}).responseJSON,i=document.getElementById(paramVal=="Sum"?"chartStockLeftoversSums":"chartStockLeftoversQty");if(t.rows.length==0){i.innerHTML="Нет данных для отображения";return}var r=new google.visualization.DataTable(t),u={title:`${paramVal=="Sum"?"Сумма":"Количество"} остатков по категориям`,pieHole:.4},f=new google.visualization.PieChart(i);f.draw(r,u)}google.charts.load("current",{packages:["corechart"]});google.charts.setOnLoadCallback(pageLoaded);var periodVal=$('.btnGrpPeriodForSales .btn-primary[name="period"]').val(),paramVal="Sum";