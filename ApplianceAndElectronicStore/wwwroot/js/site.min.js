function addProdSpecToTable(n,t,i,r){var o=document.createElement("tr"),f=o.insertCell(),u,s,e;return f.className="text-right",f.innerText=t,t!=0?(u=document.createElement("input"),u.type="hidden",u.value=t,u.id=`CategoriesProductSpecifications_${r}__ProductSpecificationId`,u.name=`CategoriesProductSpecifications[${r}].ProductSpecificationId`,f.appendChild(u),u=document.createElement("input"),u.type="hidden",u.value=i,u.id=`CategoriesProductSpecifications_${r}__ProductSpecification_Name`,u.name=`CategoriesProductSpecifications[${r}].ProductSpecification.Name`,f=o.insertCell(),f.innerText=i,f.appendChild(u)):(u=document.createElement("input"),u.className="form-control",u.type="text",u.id=`CategoriesProductSpecifications_${r}__ProductSpecification_Name`,u.name=`CategoriesProductSpecifications[${r}].ProductSpecification.Name`,s=document.createAttribute("value"),s.value=i,u.setAttributeNode(s),u.dataset.val=!0,u.dataset.valRequired="Не указано название характеристики",e=document.createElement("span"),e.className="text-danger field-validation-valid",e.dataset.valmsgFor=`CategoriesProductSpecifications[${r}].ProductSpecification.Name`,e.dataset.valmsgReplace=!0,f=o.insertCell(),f.appendChild(u),f.appendChild(e)),n.append(o),r+1}function addProdSpecWithValueToTable(n,t,i){var e=document.createElement("tr"),u=e.insertCell(),o=document.createElement("label"),r,s,f;o.classList.add("control-label","form-control-static");o.innerText=t.productSpecification.name;u.appendChild(o);r=document.createElement("input");r.type="hidden";r.value=t.productSpecificationId;r.id=`SpecificationsValues_${i}__ProductSpecificationId`;r.name=`SpecificationsValues[${i}].ProductSpecificationId`;u.appendChild(r);r=document.createElement("input");r.className="form-control";r.type="text";r.id=`SpecificationsValues_${i}__Value`;r.name=`SpecificationsValues[${i}].Value`;t.value!=null&&(s=document.createAttribute("value"),s.value=t.value,r.setAttributeNode(s));r.dataset.val=!0;r.dataset.valRequired="Не указано название характеристики";f=document.createElement("span");f.className="text-danger field-validation-valid";f.dataset.valmsgFor=`SpecificationsValues[${i}].Value`;f.dataset.valmsgReplace=!0;u=e.insertCell();u.appendChild(r);u.appendChild(f);n.append(e)}function detectChangesForSaving(){$(function(){var n=!1;$('input:not([type="submit"])').change(function(){n||(n=!0);$("#btnSaveChanges").removeAttr("disabled")});$("a[href]").click(function(t){n&&(t.preventDefault(),alert("У Вас есть несохраненные изменения!"))})})}function changeSearchFormOffset(){}function checkAvailableProductQtyForOrder(n,t=1,i=false){$(function(){var u=t>1||i?".":"#",f=$(`${u}quantity`),e=$(`${u}prodQtyInStock`),r=!1;f.change(function(){var n,u,o;t>1||i?(n=$(`#${this.id}`)[0],u=$(`#pQtyInStock${n.dataset.index}`)[0]):(n=f[0],u=e[0]);o=$(`span[data-valmsg-for="${n.id}"]`);+this.value>+u.value?(n.classList.add("input-validation-error"),o.html(`Максимально можно заказать <b>${u.value} шт.</b>`),r=!0):(n.classList.remove("input-validation-error"),o.text(""),r=!1)});$(n).click(function(n){r&&(n.preventDefault(),$(`#qty${this.dataset.index}`).focus())})})}